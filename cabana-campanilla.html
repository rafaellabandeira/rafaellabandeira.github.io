<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Caba√±a Campanilla | Caba√±as R√≠o Mundo ¬∑ Ri√≥par</title>
<meta name="description" content="Caba√±a Campanilla en Ri√≥par. Casa rural para 6 personas con 2 habitaciones y altillo, junto al R√≠o Mundo. Piscina en verano.">
<meta name="keywords" content="caba√±a campanilla ri√≥par, casa rural 6 personas r√≠o mundo">
<link rel="stylesheet" href="css/global.css">
<link rel="stylesheet" href="css/cabanas.css">
<link rel="stylesheet" href="css/index.css">

<style>
/* Motor reservas */
.reserva-box{
  border:2px solid #e3e3e3;
  padding:25px;
  max-width:480px;
  margin:30px auto;
  border-radius:12px;
  background:#fafafa;
  box-shadow:0 4px 12px rgba(0,0,0,0.08);
}
.reserva-box label{
  display:block;
  margin-top:15px;
  font-weight:600;
}
.reserva-box input{
  width:100%;
  padding:10px;
  margin-top:5px;
  border-radius:6px;
  border:1px solid #ccc;
}
.reserva-box button{
  margin-top:20px;
  padding:12px;
  width:100%;
  background:#2f5d50;
  color:white;
  border:none;
  border-radius:6px;
  font-size:16px;
  cursor:pointer;
}
.reserva-box button:hover{background:#25473d;}
.spinner{
  margin:20px auto;
  width:35px;
  height:35px;
  border:4px solid #ddd;
  border-top:4px solid #2f5d50;
  border-radius:50%;
  animation:spin 1s linear infinite;
  display:none;
}
/* Calendario */
.calendario{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:6px;
  max-width:420px;
  margin:15px auto 40px;
}
.dia{
  padding:8px;
  text-align:center;
  border-radius:6px;
  font-size:13px;
  background:#eee;
}
.libre{ background:#d4edda; }      /* Verde disponible */
.ocupado{ background:#f8d7da; }    /* Rojo ocupado */
</style>
</head>

<body>

<nav class="navbar">
  <div class="nav-container">
    <a href="index.html" class="nav-logo">üè° Caba√±as R√≠o Mundo</a>
    <div class="hamburger" id="hamburger"><span></span><span></span><span></span></div>
    <ul class="nav-menu" id="navMenu">
      <li><a href="cabana-campanilla.html" class="nav-link">Campanilla</a></li>
      <li><a href="cabana-el-tejo.html" class="nav-link">El Tejo</a></li>
      <li><a href="index.html#contacto" class="nav-link">Contacto</a></li>
    </ul>
  </div>
</nav>

<header>
  <div class="header-inner">
    <div class="header-text">
      <h1>Caba√±a Campanilla</h1>
      <p>Casa rural para 6 personas ¬∑ Ri√≥par</p>
    </div>
  </div>
</header>

<section>
  <h2>Descripci√≥n</h2>
  <p>Capacidad m√°xima 6 personas. Dispone de dos habitaciones y un altillo, ofreciendo un espacio muy c√≥modo y funcional con chimenea de le√±a, para familias o grupos de amigos que buscan disfrutar de la naturaleza.</p>
  <p>Situada en el exclusivo complejo El Lagunazo, con lago propio, muy cerca del Nacimiento del R√≠o Mundo.</p>
</section>

<section>
  <h2>Galer√≠a de Fotos</h2>
  <div class="carousel-container">
    <div class="carousel">
      <div class="carousel-slide active"><img src="images/1000150758.jpg" alt="Exterior de la casa rural"></div>
      <div class="carousel-slide"><img src="images/1000150760.jpg" alt="Sal√≥n interior"></div>
      <div class="carousel-slide"><img src="images/1000150764.jpg" alt="Zona exterior"></div>
      <div class="carousel-slide"><img src="images/1000150768.jpg" alt="Fachada"></div>
      <div class="carousel-slide"><img src="images/1000150775.jpg" alt="Dormitorio acogedor"></div>
      <div class="carousel-slide"><img src="images/1000150776.jpg" alt="Altillo de madera"></div>
      <div class="carousel-slide"><img src="images/1000150779.jpg" alt="Detalle interior r√∫stico"></div>
    </div>
    <button class="carousel-button prev">‚ùÆ</button>
    <button class="carousel-button next">‚ùØ</button>
    <div class="carousel-indicators"></div>
  </div>
</section>

<section id="reserva-campanilla">
  <h2>Reserva Online - Campanilla</h2>
  <div class="reserva-box">
    <label>Fecha de entrada</label>
    <input type="date" id="entrada-campanilla">
    <label>Fecha de salida</label>
    <input type="date" id="salida-campanilla">
    <label>Nombre completo</label>
    <input type="text" id="nombre-campanilla">
    <label>Tel√©fono</label>
    <input type="text" id="telefono-campanilla">
    <label>Email</label>
    <input type="email" id="email-campanilla">

    <button onclick="calcularReservaCampanilla()">Calcular precio</button>

    <div class="spinner" id="spinner-campanilla"></div>

    <div id="resultado-campanilla" style="display:none; margin-top:20px;">
      <p><strong>Caba√±a seleccionada:</strong> Caba√±a Campanilla</p>
      <p><strong>Total estancia:</strong> <span id="total-campanilla"></span> ‚Ç¨</p>
      <p><strong>Descuento aplicado:</strong> <span id="descuento-campanilla"></span> ‚Ç¨</p>
      <p><strong>Reserva ahora:</strong> 50 ‚Ç¨</p>
      <p><strong>Resto a pagar en alojamiento:</strong> <span id="resto-campanilla"></span> ‚Ç¨</p>
      <button onclick="reservarCampanilla()">Pagar</button>
    </div>
  </div>

  <h3>Calendario Campanilla</h3>
  <div id="calendario-campanilla" class="calendario"></div>
</section>

<section>
  <h2>Ubicaci√≥n</h2>
  <p>üìç Caba√±a Campanilla, Ri√≥par</p>
  <iframe src="https://www.google.com/maps?q=38.4880635,-2.4343093&z=17&output=embed" width="100%" height="350" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
</section>

<footer>
  <p><a href="aviso-legal.html">Aviso Legal</a> | <a href="privacidad.html">Pol√≠tica de Privacidad</a> | <a href="cookies.html">Pol√≠tica de Cookies</a></p>
  <p>¬© Caba√±as R√≠o Mundo ¬∑ Ri√≥par</p>
</footer>

<script>
const reservasCampanilla = ["2026-02-20","2026-02-21","2026-02-22"];

function calcularReservaCampanilla(){
  const entrada=document.getElementById("entrada-campanilla").value;
  const salida=document.getElementById("salida-campanilla").value;
  const nombre=document.getElementById("nombre-campanilla").value.trim();
  const telefono=document.getElementById("telefono-campanilla").value.trim();
  const email=document.getElementById("email-campanilla").value.trim();
  if(!entrada||!salida||!nombre||!telefono||!email){alert("Completa todos los datos");return;}
  document.getElementById("spinner-campanilla").style.display="block";
  document.getElementById("resultado-campanilla").style.display="none";

  setTimeout(()=>{
    const noches=(new Date(salida)-new Date(entrada))/(1000*60*60*24);
    if(noches<1){alert("Selecciona un rango v√°lido");document.getElementById("spinner-campanilla").style.display="none";return;}
    let precio=esTemporadaAlta(entrada)?150:115;
    let total=precio*noches;
    let descuento=0;
    if(!esTemporadaAlta(entrada)&&noches>=3){descuento=total*0.10;total*=0.90;}
    if(esTemporadaAlta(entrada)&&noches>=6){descuento=total*0.10;total*=0.90;}
    const resto=total-50;
    document.getElementById("total-campanilla").innerText=total.toFixed(2);
    document.getElementById("descuento-campanilla").innerText=descuento.toFixed(2);
    document.getElementById("resto-campanilla").innerText=resto.toFixed(2);
    document.getElementById("spinner-campanilla").style.display="none";
    document.getElementById("resultado-campanilla").style.display="block";
  },500);
}

function reservarCampanilla(){alert("Pago de 50 ‚Ç¨ simulado para Campanilla");}

/* Render calendario */
function renderCalendario(id,reservas){
  const container=document.getElementById(id);
  container.innerHTML="";
  for(let i=1;i<=30;i++){
    const dia=document.createElement("div");
    dia.className="dia "+(reservas.includes(`2026-02-${i.toString().padStart(2,"0")}`)?"ocupado":"libre");
    dia.innerText=i;
    container.appendChild(dia);
  }
}
renderCalendario("calendario-campanilla",reservasCampanilla);

/* Temporada alta auxiliar */
function esTemporadaAlta(fecha){
  const f=new Date(fecha);
  const m=f.getMonth()+1,d=f.getDate();
  return (m==7||m==8)||(m==12&&d>=22)||(m==1&&d<=7);
}
</script>
</body>
</html>
